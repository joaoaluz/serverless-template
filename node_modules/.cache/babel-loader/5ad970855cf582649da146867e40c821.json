{"ast":null,"code":"import \"source-map-support/register\";\nimport * as uuid from \"uuid\";\nimport AWS from \"aws-sdk\";\nconst dynamoDb = new AWS.DynamoDB.DocumentClient();\nexport const main = async event => {\n  console.log(typeof event.body);\n  const {\n    name,\n    price,\n    description,\n    s3ImageUrl\n  } = typeof event.body === 'string' ? event.body : JSON.parse(event.body);\n  const params = {\n    id: uuid(),\n    name,\n    price,\n    description,\n    s3ImageUrl\n  };\n\n  try {\n    const product = await dynamoDb.put(params).promise();\n    return {\n      statusCode: 200,\n      body: {\n        message: 'Success in crate new product',\n        name: product.name\n      }\n    };\n  } catch (error) {\n    return {\n      statusCode: 500,\n      body: {\n        error: error.messag\n      }\n    };\n  }\n};","map":{"version":3,"sources":["/home/joao/Documents/serverless-template/serverless-template/src/functions/newProduct.js"],"names":["uuid","AWS","dynamoDb","DynamoDB","DocumentClient","main","event","console","log","body","name","price","description","s3ImageUrl","JSON","parse","params","id","product","put","promise","statusCode","message","error","messag"],"mappings":";AAAA,OAAO,KAAKA,IAAZ,MAAsB,MAAtB;AACA,OAAOC,GAAP,MAAgB,SAAhB;AAEA,MAAMC,QAAQ,GAAG,IAAID,GAAG,CAACE,QAAJ,CAAaC,cAAjB,EAAjB;AAEA,OAAO,MAAMC,IAAI,GAAG,MAAOC,KAAP,IAAiB;AACnCC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAOF,KAAK,CAACG,IAAzB;AACA,QAAM;AACJC,IAAAA,IADI;AAEJC,IAAAA,KAFI;AAGJC,IAAAA,WAHI;AAIJC,IAAAA;AAJI,MAKF,OAAOP,KAAK,CAACG,IAAb,KAAsB,QAAtB,GAAiCH,KAAK,CAACG,IAAvC,GAA8CK,IAAI,CAACC,KAAL,CAAWT,KAAK,CAACG,IAAjB,CALlD;AAOA,QAAMO,MAAM,GAAG;AACbC,IAAAA,EAAE,EAAEjB,IAAI,EADK;AAEbU,IAAAA,IAFa;AAGbC,IAAAA,KAHa;AAIbC,IAAAA,WAJa;AAKbC,IAAAA;AALa,GAAf;;AAQA,MAAI;AACF,UAAMK,OAAO,GAAG,MAAMhB,QAAQ,CAACiB,GAAT,CAAaH,MAAb,EAAqBI,OAArB,EAAtB;AAEA,WAAO;AACLC,MAAAA,UAAU,EAAE,GADP;AAELZ,MAAAA,IAAI,EAAE;AACJa,QAAAA,OAAO,EAAE,8BADL;AAEJZ,QAAAA,IAAI,EAAEQ,OAAO,CAACR;AAFV;AAFD,KAAP;AAOD,GAVD,CAUE,OAAOa,KAAP,EAAc;AACd,WAAO;AACLF,MAAAA,UAAU,EAAE,GADP;AAELZ,MAAAA,IAAI,EAAE;AACJc,QAAAA,KAAK,EAAEA,KAAK,CAACC;AADT;AAFD,KAAP;AAMD;AACF,CAnCM","sourcesContent":["import * as uuid from \"uuid\";\nimport AWS from \"aws-sdk\";\n\nconst dynamoDb = new AWS.DynamoDB.DocumentClient();\n\nexport const main = async (event) => {\n  console.log(typeof event.body)\n  const {\n    name,\n    price,\n    description,\n    s3ImageUrl,\n  } = typeof event.body === 'string' ? event.body : JSON.parse(event.body);\n\n  const params = {\n    id: uuid(),\n    name,\n    price,\n    description,\n    s3ImageUrl,\n  };\n\n  try {\n    const product = await dynamoDb.put(params).promise();\n\n    return {\n      statusCode: 200,\n      body: {\n        message: 'Success in crate new product',\n        name: product.name,\n      },\n    };\n  } catch (error) {\n    return {\n      statusCode: 500,\n      body: {\n        error: error.messag,\n      },\n    };\n  }\n};"]},"metadata":{},"sourceType":"module"}