{"ast":null,"code":"import \"source-map-support/register\";\nimport AWS from \"aws-sdk\";\nconst dynamoDb = new AWS.DynamoDB.DocumentClient();\nexport const main = async event => {\n  const {\n    productId\n  } = event.pathParameters;\n  const params = {\n    TableName: process.env.productsTabledynamodb,\n    Key: {\n      id: productId\n    }\n  };\n\n  try {\n    const result = await dynamoDb.get(params);\n\n    if (!result.item) {\n      throw new Error('Product not found');\n    }\n\n    return {\n      statusCode: 200,\n      body: JSON.stringify({\n        message: 'Success in get product',\n        product: result.Item\n      })\n    };\n  } catch (error) {\n    console.log(error);\n    return {\n      statusCode: 500,\n      body: JSON.stringify({\n        error: error.message\n      })\n    };\n  }\n};","map":{"version":3,"sources":["/home/joao/Documents/serverless-template/serverless-template/src/functions/getProduct.js"],"names":["AWS","dynamoDb","DynamoDB","DocumentClient","main","event","productId","pathParameters","params","TableName","process","env","productsTabledynamodb","Key","id","result","get","item","Error","statusCode","body","JSON","stringify","message","product","Item","error","console","log"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,SAAhB;AAEA,MAAMC,QAAQ,GAAG,IAAID,GAAG,CAACE,QAAJ,CAAaC,cAAjB,EAAjB;AAEA,OAAO,MAAMC,IAAI,GAAG,MAAOC,KAAP,IAAiB;AACnC,QAAM;AACJC,IAAAA;AADI,MAEFD,KAAK,CAACE,cAFV;AAIA,QAAMC,MAAM,GAAG;AACbC,IAAAA,SAAS,EAAEC,OAAO,CAACC,GAAR,CAAYC,qBADV;AAEbC,IAAAA,GAAG,EAAE;AACHC,MAAAA,EAAE,EAAER;AADD;AAFQ,GAAf;;AAMA,MAAI;AACF,UAAMS,MAAM,GAAG,MAAMd,QAAQ,CAACe,GAAT,CAAaR,MAAb,CAArB;;AACA,QAAI,CAACO,MAAM,CAACE,IAAZ,EAAkB;AAChB,YAAM,IAAIC,KAAJ,CAAU,mBAAV,CAAN;AACD;;AAED,WAAO;AACLC,MAAAA,UAAU,EAAE,GADP;AAELC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,OAAO,EAAE,wBADU;AAEnBC,QAAAA,OAAO,EAAET,MAAM,CAACU;AAFG,OAAf;AAFD,KAAP;AAOD,GAbD,CAaE,OAAOC,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,WAAO;AACLP,MAAAA,UAAU,EAAE,GADP;AAELC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACI,QAAAA,KAAK,EAAEA,KAAK,CAACH;AAAd,OAAf;AAFD,KAAP;AAID;AACF,CA/BM","sourcesContent":["import AWS from \"aws-sdk\";\n\nconst dynamoDb = new AWS.DynamoDB.DocumentClient();\n\nexport const main = async (event) => {\n  const {\n    productId,\n  } = event.pathParameters;\n\n  const params = {\n    TableName: process.env.productsTabledynamodb,\n    Key: {\n      id: productId,\n    },\n  };\n  try {\n    const result = await dynamoDb.get(params);\n    if (!result.item) {\n      throw new Error('Product not found');\n    }\n\n    return {\n      statusCode: 200,\n      body: JSON.stringify({\n        message: 'Success in get product',\n        product: result.Item,\n      }),\n    };\n  } catch (error) {\n    console.log(error);\n    return {\n      statusCode: 500,\n      body: JSON.stringify({error: error.message}),\n    };\n  }\n};\n"]},"metadata":{},"sourceType":"module"}